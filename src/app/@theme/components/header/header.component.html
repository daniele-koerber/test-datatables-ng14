<div class="header-container">
  <ngx-select-line [hidden]=" hideSelect "></ngx-select-line>
</div>

<div class="header-container header-container-user">

  <ngx-progress-bar></ngx-progress-bar>

  <nb-action style="border-color: transparent;">
    <div style="padding: 0px 20px 0px 20px;">

      <nb-icon style= "margin-right: 10px; vertical-align: middle;font-size: 25px" icon="globe-outline"></nb-icon>
      <mat-form-field appearance="none" [style.width.px]=45>

      <mat-select (selectionChange)= 'languageSelected($event)' [value]="selectedlanguage">
        <mat-select-trigger>
          {{selectedlanguage}}
        </mat-select-trigger>
        <mat-option *ngFor="let language of availableLanguages" [selected]="selectedlanguage === language.key"
                [value]="language.key" >
            {{ language.value }}
        </mat-option>
      </mat-select>
    </mat-form-field>

    </div>
  </nb-action>
  <nb-action style="border-color: transparent; padding-right: 20px;">

    <a (click)="openHelp()" [class.disabled]=" (link === '#') ">
      <nb-icon style= "margin-bottom: 6px; vertical-align: middle; font-size: 26px; cursor:pointer" icon="question-mark-circle-outline"></nb-icon>

    </a>


  </nb-action>

  <nb-action class="user-action">
    <div style="padding: 0px 20px 0px 20px; border-right: 1px solid #edf1f7; border-left: 1px solid #edf1f7;">
      <button nbButton status="primary"
          class="round-button"
          [matMenuTriggerFor]="menu"
          trigger = 'focus'
          container="body"
          placement="bottom">
        <nb-icon icon="person-outline"></nb-icon>
      </button>


      <mat-menu #menu="matMenu" style="padding: 0;">
        <div class="options-div">
          <div style="min-width: 100px;">
            <div class="user-span"> <div style="margin: auto; line-height: initial;">{{user?.name}}</div> </div>
            <div class="btn-group log-out-container">
              <button size="small" status="basic" class='option-button white logout-button' nbButton
                (click)="changeUserSettings()"><nb-icon icon="person-outline"></nb-icon>User Settings</button>
            </div>
            <div class="btn-group log-out-container">
              <button size="small" status="basic" class='option-button white logout-button' nbButton
                (click)="changePage('Log out')"><nb-icon icon="log-out-outline"></nb-icon>Log Out</button>
            </div>
          </div>
        </div>
      </mat-menu>
      
    </div>
  </nb-action>
</div>
